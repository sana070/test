<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="worktodo.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <div class="todolist">
        <div class="todo">
            <h2>To Do</h2>

            <h3>Work in progress</h3>
            <div class="cards" id="todocards">

            </div>
            <div class="done">
                <h2>Done</h2>
                <div class="cards" id="donecards">
                    <div>
                        <p class="content">${cur}</p>
                        <p> <img src="path.png" class="clickbutton" onclick="eventfn(${index})"> </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="plus">
            <button class="addButton" onclick="func()" >+</button>
        </div>
        <script>
            var todo = ["At vero eos et accusamus et iusto odio dignissimos", "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque lau...", "Nam libero tempore, cum soluta nobis est eligendi", "At vero eos et accusamus et iusto odio dignissimos", "Nam libero tempore", "cum soluta nobis est eligendi "];
            var done = ["At vero eos et accusamus et iusto odio dignissimos", "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium...", "Nam libero tempore, cum soluta nobis est eligendi "]
            function func() {
                let item = prompt("Add a new task!");
                todo.push(item);
                addTodo();
            }

            function addTodo() {
                let ar = todo.map((cur, index) => {
                    return `<div>
               <p class="content">${cur}</p>
               <p><img src="path.png" class="clickbutton" onclick="eventfn(${index})"></p>
             </div>`
                });
                let cards = document.getElementById("todocards");
                ar = ar.reverse();
                cards.innerHTML = ar.join('');
            }

            function eventfn(incomingIndex) {
                done.push(todo[incomingIndex]);
                todo = todo.filter((ele, index) => index !== incomingIndex);
                addTodo();
                addDone();
            }

            function addDone() {
                let ar1 = done.map((cur, index) => {
                    return `<div>
               <p class="content">${cur}</p>
               <p><img class="doneBut" src="path.png" id="demo" onclick="deleteDone(${index})"></p>
             </div>`
                });
                ar1 = ar1.reverse();
                let arr1 = document.getElementById("donecards");
                arr1.innerHTML = ar1.join('');
            }

            function deleteDone(incomingIndex) {
                document.getElementById("demo").style.color = "green";
                var check = confirm("Are you sure? Once the item is deleted it cannot be replaced..");
                if (check) {
                    done = done.filter((value, index) => { index !== incomingIndex });
                }
                addDone();
            }

            addTodo();
            addDone();
        </script>

</body>

</html>